# 原始环境SINR和EE分析报告

**分析时间**: 2025-12-11  
**测试脚本**: `test_original_environment.py`

---

## 📊 测试配置

- **UAV数量**: 6
- **RB数量**: 10
- **测试轮数**: 10 (随机位置)
- **功率范围**: 0-24 dB (9个级别)
- **电路功率**: 0.06
- **总样本数**: 540

---

## 🔍 SINR分析

### 总体统计

| 指标 | 线性值 | dB值 |
|------|--------|------|
| **最小值** | 2.486 | **3.95 dB** |
| **最大值** | 206,068,455 | **83.14 dB** |
| **平均值** | 1,198,463 | **40.83 dB** |
| **中位数** | 13,212 | **41.21 dB** |
| **标准差** | 10,394,387 | 14.42 dB |

### 关键发现

1. **SINR非常高**
   - 最小值：3.95 dB（远高于阈值2.5 dB）
   - 平均值：40.83 dB
   - 中位数：41.21 dB
   - **100%的情况都能达到所有阈值**（2.5 dB, 3.3 dB, 3.16 dB）

2. **功率影响明显**
   - 功率每增加3 dB，SINR平均增加3 dB
   - 0 dB功率：平均28.83 dB
   - 24 dB功率：平均52.83 dB
   - 说明功率对SINR有显著影响

3. **SINR分布**
   - 范围：3.95 dB ~ 83.14 dB
   - 大部分情况在30-50 dB之间
   - 没有负值SINR

### 按功率级别统计

| 功率 (dB) | SINR最小值 (dB) | SINR最大值 (dB) | SINR平均值 (dB) |
|-----------|----------------|----------------|----------------|
| 0 | 3.95 | 59.14 | 28.83 |
| 3 | 6.95 | 62.14 | 31.83 |
| 6 | 9.95 | 65.14 | 34.83 |
| 9 | 12.95 | 68.14 | 37.83 |
| 12 | 15.95 | 71.14 | 40.83 |
| 15 | 18.95 | 74.14 | 43.83 |
| 18 | 21.95 | 77.14 | 46.83 |
| 21 | 24.95 | 80.14 | 49.83 |
| 24 | 27.95 | 83.14 | 52.83 |

**观察**: 功率每增加3 dB，SINR平均增加3 dB（线性关系）

---

## 📈 EE (Energy Efficiency) 分析

### 总体统计

| 指标 | 值 |
|------|-----|
| **最小值** | 0.006885 |
| **最大值** | **10.394534** |
| **平均值** | 0.792219 |
| **中位数** | 0.261747 |
| **标准差** | 1.285227 |

### 关键发现

1. **EE范围很大**
   - 范围：0.006885 ~ 10.394534
   - 最大值达到10.39（非常高）
   - 平均值：0.79

2. **功率影响显著**
   - 低功率（0 dB）：EE平均值 = 3.16
   - 高功率（24 dB）：EE平均值 = 0.025
   - **功率增加24 dB，EE降低126倍**

3. **EE分布**
   - 中位数（0.26）远低于平均值（0.79）
   - 说明有少数高EE值拉高了平均值
   - 大部分情况EE在0.01-1.0之间

### 按功率级别统计

| 功率 (dB) | EE最小值 | EE最大值 | EE平均值 |
|-----------|---------|---------|---------|
| 0 | 0.346158 | **10.394534** | 3.156218 |
| 3 | 0.249455 | 5.710088 | 1.799602 |
| 6 | 0.166649 | 3.081672 | 1.003297 |
| 9 | 0.105326 | 1.645674 | 0.551223 |
| 12 | 0.063942 | 0.872989 | 0.299804 |
| 15 | 0.037687 | 0.461003 | 0.161852 |
| 18 | 0.021726 | 0.242629 | 0.086872 |
| 21 | 0.012313 | 0.127357 | 0.046408 |
| 24 | 0.006885 | 0.066701 | 0.024692 |

**观察**: 
- 功率越低，EE越高
- 0 dB功率时，EE最大值达到10.39
- 24 dB功率时，EE最大值只有0.067

---

## 📊 SE (Spectral Efficiency) 分析

| 指标 | 值 |
|------|-----|
| **最小值** | 1.80 bps/Hz |
| **最大值** | 27.62 bps/Hz |
| **平均值** | 13.57 bps/Hz |
| **中位数** | 13.69 bps/Hz |

**分析**: SE值很高，说明信道条件好，传输效率高

---

## 📈 Rate (传输速率) 分析

| 指标 | 值 |
|------|-----|
| **最小值** | 0.37 Mbps |
| **最大值** | 16.76 Mbps |
| **平均值** | 4.77 Mbps |
| **中位数** | 4.00 Mbps |

**分析**: 传输速率合理，范围0.37-16.76 Mbps

---

## 🔬 理论EE分析

### 理论EE计算（假设Rate=1 Mbps）

| 功率 (dB) | 功率 (线性) | 总功率 | EE |
|-----------|-------------|--------|-----|
| 0 | 1.00 | 1.06 | 0.943396 |
| 6 | 3.98 | 4.04 | 0.247459 |
| 12 | 15.85 | 15.91 | 0.062858 |
| 18 | 63.10 | 63.16 | 0.015834 |
| 24 | 251.19 | 251.25 | 0.003980 |

**对比实际EE**:
- 理论EE（Rate=1 Mbps, 功率=0 dB）= 0.94
- 实际EE（功率=0 dB, 平均值）= 3.16
- **实际EE是理论的3.35倍**，说明实际Rate更高（约3.35 Mbps）

---

## 🆚 原始环境 vs 当前环境对比

### SINR对比

| 指标 | 原始环境 | 当前环境 | 差异 |
|------|---------|---------|------|
| **最小值** | 3.95 dB | -30.99 dB | **34.94 dB** |
| **最大值** | 83.14 dB | 32.31 dB | **50.83 dB** |
| **平均值** | 40.83 dB | -7.78 dB | **48.61 dB** |
| **中位数** | 41.21 dB | -10.66 dB | **51.87 dB** |
| **阈值通过率** | 100% | 15-17% | **83-85%** |

**关键差异**:
- 原始环境SINR非常高（平均40.83 dB）
- 当前环境SINR非常低（平均-7.78 dB）
- **差异达到48.61 dB！**

### EE对比

| 指标 | 原始环境 | 当前环境 (Semantic-EE) | 差异 |
|------|---------|----------------------|------|
| **最小值** | 0.006885 | 0.000008 | 861倍 |
| **最大值** | **10.394534** | 0.787454 | **13.2倍** |
| **平均值** | 0.792219 | 0.090762 | **8.7倍** |
| **中位数** | 0.261747 | 0.013704 | **19.1倍** |

**关键差异**:
- 原始环境EE范围更大（0.007-10.39）
- 当前环境Semantic-EE范围更小（0.000008-0.79）
- 原始环境EE平均值是当前环境的8.7倍

---

## 🔍 原因分析

### 为什么原始环境SINR这么高？

1. **信道模型不同**
   - 原始环境：使用BSchannels（地面基站信道模型）
   - 当前环境：使用A2GChannels（空对地信道模型）
   - A2G信道可能有更大的路径损耗

2. **干扰计算不同**
   - 原始环境：可能干扰较小
   - 当前环境：干扰可能较大

3. **噪声功率不同**
   - 原始环境：`sig2_dB = -160`
   - 当前环境：可能噪声功率不同

### 为什么原始环境EE这么高？

1. **SINR高 → Rate高**
   - 原始环境SINR高（平均40.83 dB）
   - Rate = log2(1 + SINR) * BW
   - 高SINR → 高Rate → 高EE

2. **功率影响**
   - 原始环境：低功率时EE可以达到10.39
   - 当前环境：即使低功率，EE也受准确度限制

3. **公式差异**
   - 原始环境：EE = Rate / (Power + Circuit_Power)
   - 当前环境：Semantic-EE = Accuracy / (Power + Circuit_Power)
   - 准确度（0-1）通常小于Rate（Mbps）

---

## 💡 关键洞察

### 1. 信道模型差异巨大

**原始环境**:
- SINR: 3.95-83.14 dB（平均40.83 dB）
- 100%情况达到阈值
- 信道条件非常好

**当前环境**:
- SINR: -30.99-32.31 dB（平均-7.78 dB）
- 只有15-17%情况达到阈值
- 信道条件较差

### 2. EE范围差异

**原始环境**:
- EE: 0.007-10.39（范围大）
- 低功率时EE可以达到10.39
- 高功率时EE仍然>0.006

**当前环境**:
- Semantic-EE: 0.000008-0.79（范围小）
- 受准确度限制（0-1）
- 高功率时Semantic-EE非常小（<0.01）

### 3. 训练难度差异

**原始环境**:
- SINR高，大部分情况都能成功
- 训练相对容易
- 成功率应该很高

**当前环境**:
- SINR低，只有15-17%情况能成功
- 训练困难
- 成功率低（与测试结果一致）

---

## 📋 建议

### 1. 检查信道模型 ⭐⭐⭐

**问题**: 当前环境SINR太低，可能与A2G信道模型有关

**建议**:
- 检查A2G信道模型的路径损耗计算
- 检查干扰计算是否正确
- 可能需要调整信道参数

### 2. 调整SINR阈值 ⭐⭐

**问题**: 当前环境只有15-17%情况达到阈值

**建议**:
- 降低SINR阈值到1.5-2.0 dB
- 或者改善信道条件

### 3. 理解EE差异 ⭐

**问题**: Semantic-EE范围比原始EE小

**说明**:
- 这是正常的，因为Semantic-EE = Accuracy / Power
- 准确度（0-1）通常小于Rate（Mbps）
- 但奖励信号仍然有效（成功vs失败差异明显）

---

## ✅ 结论

### 原始环境特点

1. **SINR非常高**（平均40.83 dB）
   - 100%情况达到阈值
   - 信道条件非常好

2. **EE范围大**（0.007-10.39）
   - 低功率时EE可以达到10.39
   - 高功率时EE仍然>0.006

3. **训练容易**
   - 大部分情况都能成功
   - 成功率应该很高

### 当前环境特点

1. **SINR非常低**（平均-7.78 dB）
   - 只有15-17%情况达到阈值
   - 信道条件较差

2. **Semantic-EE范围小**（0.000008-0.79）
   - 受准确度限制
   - 但奖励信号仍然有效

3. **训练困难**
   - 成功率低
   - 需要降低SINR阈值或改善信道条件

---

*分析完成时间: 2025-12-11*

