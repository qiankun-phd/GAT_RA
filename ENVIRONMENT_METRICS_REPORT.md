# 环境指标测试报告

**测试时间**: 2025-12-11  
**测试脚本**: `test_environment_metrics.py`

---

## 📊 测试配置

- **UAV数量**: 6
- **RB数量**: 10
- **测试轮数**: 10 (随机位置)
- **功率范围**: 0-24 dB (9个级别)
- **压缩比范围**: 0.1-0.9 (5个级别)
- **总样本数**: 540 (SINR), 1500 (Semantic-EE)

---

## 🔍 SINR范围分析

### 总体统计

| 指标 | 线性值 | dB值 |
|------|--------|------|
| **最小值** | 0.000796 | -30.99 dB |
| **最大值** | 1702.148 | 32.31 dB |
| **平均值** | 41.034 | -7.78 dB |
| **中位数** | 0.086 | -10.66 dB |
| **标准差** | 226.492 | 12.71 dB |

### 关键发现

1. **SINR分布极不均匀**
   - 平均值(-7.78 dB)远低于中位数(-10.66 dB)
   - 说明有少数高SINR值拉高了平均值
   - 大部分情况SINR都很低（< 0 dB）

2. **阈值通过率低**
   - **SINR > 2.5 dB**: 16.67% (90/540)
   - **SINR > 3.3 dB**: 15.00% (81/540)
   - **SINR > 3.16 dB**: 15.00% (81/540)

3. **功率影响不明显**
   - 所有功率级别的SINR统计相同
   - 说明SINR主要由信道条件决定，而非功率
   - 可能原因：干扰占主导

### SINR分布分析

```
SINR范围分布（估计）:
  < -10 dB: 大部分情况（中位数-10.66 dB）
  -10 ~ 0 dB: 部分情况
  0 ~ 10 dB: 少数情况
  > 10 dB: 极少数情况（最高32.31 dB）
```

**问题诊断**:
- 大部分UAV的SINR都很低（< 0 dB）
- 只有约15-17%的情况能达到训练阈值（2.5-3.3 dB）
- 这解释了为什么训练成功率低

---

## 📈 Semantic-EE范围分析

### 总体统计

| 指标 | 值 |
|------|-----|
| **最小值** | 0.000008 |
| **最大值** | 0.787454 |
| **平均值** | 0.090762 |
| **中位数** | 0.013704 |
| **标准差** | 0.160428 |

### 关键发现

1. **Semantic-EE分布不均匀**
   - 平均值(0.090762)远高于中位数(0.013704)
   - 说明有少数高值拉高了平均值
   - 大部分情况Semantic-EE很低（< 0.02）

2. **成功情况下的Semantic-EE**
   - **范围**: 0.042831 ~ 0.787454
   - **平均值**: 0.320102
   - **中位数**: 0.288280
   - **样本数**: 350/1500 (23.33%)

3. **压缩比影响**
   - 压缩比越高，Semantic-EE越高
   - 0.1: 0.028837
   - 0.3: 0.071776
   - 0.5: 0.100559
   - 0.7: 0.119853
   - 0.9: 0.132786

### 语义准确度统计

| 指标 | 值 |
|------|-----|
| **最小值** | 0.000009 |
| **最大值** | 0.834701 |
| **平均值** | 0.096208 |
| **中位数** | 0.014527 |

**分析**:
- 语义准确度范围：0.000009 ~ 0.834701
- 平均值：0.096208（约9.6%）
- 中位数：0.014527（约1.5%）
- 说明大部分情况下准确度很低

---

## 🎯 关键洞察

### 1. SINR问题严重

**问题**:
- 只有15-17%的情况SINR > 2.5 dB
- 大部分情况SINR < 0 dB
- 这导致训练成功率低

**可能原因**:
1. **干扰过大**: 多个UAV在同一RB传输
2. **信道条件差**: 路径损耗大，阴影衰落严重
3. **功率不足**: 即使最大功率(24 dB)也无法克服干扰

**建议**:
- 降低SINR阈值到1.5-2.0 dB（允许更多成功）
- 或者增加功率范围（但可能不现实）
- 或者减少UAV数量或增加RB数量

### 2. Semantic-EE分布合理

**观察**:
- 成功情况下的Semantic-EE: 0.32（平均值）
- 失败情况下的Semantic-EE: < 0.01（估计）
- 差异明显，可以作为奖励信号

**压缩比影响**:
- 压缩比越高，Semantic-EE越高
- 但压缩比高可能降低准确度
- 需要平衡

### 3. 成功率低的原因

**统计**:
- 成功样本：350/1500 = 23.33%
- 这与训练中的低成功率一致

**原因**:
1. SINR阈值过高（只有15-17%能达到）
2. RB碰撞（6个UAV，10个RB，可能碰撞）
3. 信道条件差

---

## 📋 建议

### 优先级1: 调整SINR阈值 ⭐⭐⭐

**当前问题**:
- 训练阈值：2.5 dB
- 只有15-17%的情况能达到

**建议**:
```python
# 选项1: 降低到1.5 dB（允许更多成功）
training_sinr_threshold = 1.5  # dB

# 选项2: 降低到1.0 dB（更宽松）
training_sinr_threshold = 1.0  # dB

# 选项3: 使用动态阈值（根据实际SINR分布）
# 例如：使用中位数或25%分位数
```

### 优先级2: 检查RB分配 ⭐⭐

**问题**:
- 6个UAV，10个RB
- 理论上可以避免碰撞
- 但实际可能有碰撞

**建议**:
- 检查碰撞率
- 如果碰撞率高，考虑增加RB数量或减少UAV数量

### 优先级3: 优化功率策略 ⭐

**观察**:
- 功率对SINR影响不明显
- 说明干扰占主导

**建议**:
- 检查干扰计算
- 考虑功率控制策略

---

## 📊 数据分布总结

### SINR分布
```
范围: -30.99 dB ~ 32.31 dB
平均值: -7.78 dB
中位数: -10.66 dB
阈值通过率: 15-17%
```

### Semantic-EE分布
```
范围: 0.000008 ~ 0.787454
平均值: 0.090762
中位数: 0.013704
成功情况平均值: 0.320102
```

### 语义准确度分布
```
范围: 0.000009 ~ 0.834701
平均值: 0.096208
中位数: 0.014527
```

---

## 🔧 修复建议总结

1. **降低SINR阈值**: 从2.5 dB降到1.5-2.0 dB
2. **检查RB碰撞**: 确认碰撞率
3. **优化功率策略**: 检查干扰计算
4. **监控训练**: 观察成功率是否提升

---

*测试完成时间: 2025-12-11*  
*建议立即降低SINR阈值以改善训练*

